<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم - خدمات التواصل الاجتماعي</title>    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/dashboard-charts.css">
    <link rel="stylesheet" href="css/settings.css">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #f3f4f6 0%, #e0e7ff 100%);
            min-height: 100vh;
        }
        .sidebar {
            height: calc(100vh - 64px);
            transition: width 0.3s;
        }
        @media (max-width: 1024px) {
            .sidebar {
                position: fixed;
                z-index: 40;
                left: 0;
                top: 64px;
                width: 70vw;
                max-width: 320px;
                height: calc(100vh - 64px);
                transform: translateX(-100%);
                background: #fff;
                box-shadow: 2px 0 8px rgba(0,0,0,0.08);
                transition: transform 0.3s;
            }
            .sidebar.open {
                transform: translateX(0);
            }
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .currency-item:hover {
            background-color: #e0e7ff;
        }
        .service-card {
            transition: transform 0.2s, box-shadow 0.2s;
            border-radius: 1rem;
            border: 1px solid #e5e7eb;
            background: linear-gradient(135deg, #fff 80%, #f0f9ff 100%);
        }
        .service-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 24px -6px rgba(59,130,246,0.10);
            border-color: #60a5fa;
        }
        .platform-tag {
            transition: all 0.3s;
            background: #f1f5f9;
            color: #2563eb;
            border-radius: 9999px;
            padding: 0.25rem 0.75rem;
            font-size: 0.9rem;
            margin-left: 0.5rem;
        }
        .platform-tag:hover {
            background-color: #2563eb;
            color: #fff;
        }
        .modal {
            transition: opacity 0.3s ease;
        }
        /* Responsive table */
        @media (max-width: 768px) {
            table, thead, tbody, th, td, tr {
                display: block;
            }
            thead tr {
                display: none;
            }
            tbody tr {
                margin-bottom: 1rem;
                background: #fff;
                border-radius: 1rem;
                box-shadow: 0 2px 8px rgba(0,0,0,0.04);
                padding: 1rem;
            }
            td {
                position: relative;
                padding-right: 50%;
                padding-left: 1rem;
                min-height: 2.5rem;
                border: none;
            }
            td:before {
                position: absolute;
                right: 1rem;
                top: 0.75rem;
                white-space: nowrap;
                font-weight: bold;
                color: #64748b;
                content: attr(data-label);
            }
        }
        /* Buttons */
        .btn {
            @apply transition duration-200 font-bold rounded-lg shadow-sm;
        }
        .btn-blue {
            @apply bg-blue-600 hover:bg-blue-700 text-white;
        }        .btn-green {
            @apply bg-green-600 hover:bg-green-700 text-white;
        }        .btn-yellow {
            @apply bg-amber-500 hover:bg-amber-600 text-white;
        }
        .btn-purple {
            @apply bg-purple-600 hover:bg-purple-700 text-white;
        }
        .btn-red {
            @apply bg-red-600 hover:bg-red-700 text-white;
        }
        .btn-outline {
            @apply border border-blue-600 text-blue-600 bg-white hover:bg-blue-50;
        }
        /* Navbar shadow and gradient */
        nav.bg-blue-600 {
            background: linear-gradient(90deg, #2563eb 60%, #60a5fa 100%);
            box-shadow: 0 2px 8px rgba(59,130,246,0.08);
        }
        /* Sidebar active link */
        .sidebar a.tab-link.active, .sidebar a.tab-link:focus {
            background: linear-gradient(90deg, #e0e7ff 60%, #f0f9ff 100%);
            color: #2563eb !important;
            border-right: 4px solid #2563eb;
        }
        /* Sidebar hover */
        .sidebar a.tab-link:hover {
            background: #f0f9ff;
            color: #2563eb;
        }
        /* Modal improvements */
        #add-service-modal .bg-white {
            border-radius: 1.5rem;
            box-shadow: 0 8px 32px rgba(59,130,246,0.15);
        }
        #add-service-modal input, #add-service-modal textarea, #add-service-modal select {
            background: #f9fafb;
            border-radius: 0.75rem;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            background: #e0e7ff;
        }
        ::-webkit-scrollbar-thumb {
            background: #a5b4fc;
            border-radius: 8px;
        }
        /* Responsive main content */
        @media (max-width: 1024px) {
            .w-1/5 {
                width: 0 !important;
                display: none !important;
            }
            .w-4/5 {
                width: 100% !important;
            }
            .p-6 {
                padding: 1rem !important;
            }
        }
        @media (max-width: 640px) {
            .text-2xl {
                font-size: 1.25rem !important;
            }
            .p-8, .p-6 {
                padding: 0.75rem !important;
            }
            .rounded-lg, .rounded-md {
                border-radius: 0.75rem !important;
            }
        }
        /* Improved Section Headers */
        .section-header {
            position: relative;
            padding-right: 1rem;
            margin-bottom: 1.5rem;
            border-right: 4px solid #3b82f6;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e3a8a;
            padding-bottom: 0.5rem;
        }
        
        .section-subtitle {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        /* Enhanced Table Styling */
        .table-container {
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .dashboard-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }
        
        .dashboard-table thead {
            background: linear-gradient(90deg, #dbeafe 0%, #eff6ff 100%);
        }
        
        .dashboard-table th {
            color: #1e40af;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 1rem;
            font-size: 0.75rem;
            border-bottom: 2px solid #bfdbfe;
        }
        
        .dashboard-table tbody tr {
            transition: all 0.2s;
        }
        
        .dashboard-table tbody tr:nth-child(odd) {
            background-color: #f9fafb;
        }
        
        .dashboard-table tbody tr:hover {
            background-color: #eff6ff;
        }
        
        .dashboard-table td {
            padding: 1rem;
            vertical-align: middle;
            border-bottom: 1px solid #e5e7eb;
        }
        
        /* Status badges */
        .status-badge {
            display: none;
        }
        
        .status-pending {
            display: none;
        }
        
        .status-completed {
            display: none;
        }
        
        .status-processing {
            display: none;
        }
        
        .status-cancelled {
            display: none;
        }
        
        /* Action buttons */
        .action-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            border-radius: 9999px;
            transition: all 0.2s;
        }
        
        .view-btn {
            background-color: #dbeafe;
            color: #2563eb;
        }
        
        .view-btn:hover {
            background-color: #bfdbfe;
        }
        
        .edit-btn {
            background-color: #e0e7ff;
            color: #4f46e5;
        }
        
        .edit-btn:hover {
            background-color: #c7d2fe;
        }
        
        .delete-btn {
            background-color: #fee2e2;
            color: #dc2626;
        }
        
        .delete-btn:hover {
            background-color: #fecaca;
        }

        @media (max-width: 768px) {
            .section-title {
                font-size: 1.25rem;
            }
            
            .dashboard-table th, 
            .dashboard-table td {
                padding: 0.75rem 0.5rem;
            }
            
            .dashboard-table td:before {
                color: #1e40af;
                font-weight: 600;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen (Initially visible) -->
    <div id="login-screen" class="fixed inset-0 flex items-center justify-center bg-gray-100 z-50">
        <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
            <div class="text-center mb-6">
                <i class="fas fa-users text-blue-600 text-5xl mb-4"></i>
                <h2 class="text-2xl font-bold text-gray-800">لوحة إدارة خدمات التواصل الاجتماعي</h2>
                <p class="text-gray-600 mt-2">تسجيل الدخول للوصول إلى لوحة التحكم</p>
            </div>
            <form id="login-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">اسم المستخدم</label>
                    <input type="text" id="username" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="admin" required>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">كلمة المرور</label>
                    <input type="password" id="password" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" value="admin123" required>
                </div>
                <button type="submit" class="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-300 font-bold">
                    تسجيل الدخول
                </button>
            </form>
        </div>
    </div>

    <!-- Main Dashboard (Initially hidden) -->
    <div id="dashboard" class="hidden">
        <!-- Navbar -->
        <nav class="bg-blue-600 text-white shadow-md">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center">
                    <i class="fas fa-chart-line mr-2 text-xl"></i>
                    <span class="font-bold text-xl">لوحة تحكم خدمات التواصل الاجتماعي</span>
                </div>                <div class="flex items-center space-x-4 space-x-reverse">
                    <!-- Hamburger for mobile -->
                    <button id="sidebar-toggle" class="lg:hidden block text-white text-2xl ml-4 focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="flex items-center cursor-pointer" id="user-menu-button">
                        <span class="mr-2">المسؤول</span>
                        <img src="https://via.placeholder.com/32" alt="صورة المستخدم" class="w-8 h-8 rounded-full border-2 border-blue-200 shadow-sm">
                    </div>
                </div>
            </div>
        </nav>

        <div class="flex">
            <!-- Sidebar -->
            <div class="w-1/5 bg-white shadow-lg sidebar overflow-y-auto">
                <ul class="py-4">
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-blue-600 border-r-4 border-blue-600 bg-blue-50" data-tab="dashboard-summary">
                            <i class="fas fa-home w-6"></i>
                            <span>الصفحة الرئيسية</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="services">
                            <i class="fas fa-cogs w-6"></i>
                            <span>إدارة الخدمات</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="platforms">
                            <i class="fas fa-hashtag w-6"></i>
                            <span>إدارة المنصات</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="pricing">
                            <i class="fas fa-dollar-sign w-6"></i>
                            <span>الأسعار</span>
                        </a>
                    </li>                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="orders">
                            <i class="fas fa-shopping-cart w-6"></i>
                            <span>الطلبات</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="tab-link flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200" data-tab="settings">
                            <i class="fas fa-cog w-6"></i>
                            <span>الإعدادات</span>
                        </a>
                    </li>
                    <li>
                        <a href="index.html" class="flex items-center px-6 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition duration-200">
                            <i class="fas fa-globe w-6"></i>
                            <span>زيارة الموقع</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="logout-button" class="flex items-center px-6 py-3 text-red-600 hover:bg-red-50 transition duration-200">
                            <i class="fas fa-sign-out-alt w-6"></i>
                            <span>تسجيل الخروج</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Main Content -->
            <div class="w-4/5 p-6 bg-gray-100 overflow-y-auto" style="height: calc(100vh - 64px);">                <!-- Dashboard Summary Tab -->
                <div id="dashboard-summary" class="tab-content active fade-in">                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">لوحة المعلومات</h2>
                    </div><!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">                        <div class="bg-white rounded-lg shadow-md p-6 border-b-4 border-blue-500 transition-all duration-300 hover:shadow-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm">إجمالي المبيعات</p>
                                    <h3 class="text-2xl font-bold mt-1" id="total-sales">$12,628</h3>
                                    <p id="total-sales-trend" class="text-green-500 text-sm mt-2">
                                        <i class="fas fa-arrow-up mr-1"></i>
                                        <span>23.5%</span>
                                    </p>
                                </div>
                                <div class="bg-blue-100 p-3 rounded-full">
                                    <i class="fas fa-dollar-sign text-blue-600 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6 border-b-4 border-green-500 transition-all duration-300 hover:shadow-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm">الطلبات الجديدة</p>
                                    <h3 class="text-2xl font-bold mt-1" id="new-orders">284</h3>
                                    <p id="new-orders-trend" class="text-green-500 text-sm mt-2">
                                        <i class="fas fa-arrow-up mr-1"></i>
                                        <span>12.8%</span>
                                    </p>
                                </div>
                                <div class="bg-green-100 p-3 rounded-full">
                                    <i class="fas fa-shopping-bag text-green-600 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6 border-b-4 border-purple-500 transition-all duration-300 hover:shadow-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm">عدد العملاء</p>
                                    <h3 class="text-2xl font-bold mt-1" id="customers-count">752</h3>
                                    <p id="customers-trend" class="text-green-500 text-sm mt-2">
                                        <i class="fas fa-arrow-up mr-1"></i>
                                        <span>8.3%</span>
                                    </p>
                                </div>
                                <div class="bg-purple-100 p-3 rounded-full">
                                    <i class="fas fa-users text-purple-600 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6 border-b-4 border-yellow-500 transition-all duration-300 hover:shadow-lg">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-gray-500 text-sm">معدل التحويل</p>
                                    <h3 class="text-2xl font-bold mt-1" id="conversion-rate">6.8%</h3>
                                    <p id="conversion-trend" class="text-red-500 text-sm mt-2">
                                        <i class="fas fa-arrow-down mr-1"></i>
                                        <span>1.2%</span>
                                    </p>
                                </div>
                                <div class="bg-yellow-100 p-3 rounded-full">
                                    <i class="fas fa-chart-pie text-yellow-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>                    <!-- Recent Orders Section with improved styling -->
                    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                        <div class="section-header">
                            <h3 class="section-title">أحدث الطلبات</h3>
                            <p class="section-subtitle">عرض آخر الطلبات المستلمة من العملاء</p>
                        </div>                        <div class="flex flex-wrap justify-between items-center mb-4">
                            <div></div>
                            <a href="#" class="text-blue-600 hover:text-blue-800 text-sm flex items-center" data-tab="orders">
                                عرض الكل <i class="fas fa-chevron-left mr-1 text-xs"></i>
                            </a>
                        </div>
                        
                        <div class="table-container overflow-x-auto">
                            <table class="dashboard-table" id="recent-orders-table">
                                <thead>
                                    <tr>
                                        <th class="text-right">رقم الطلب</th>
                                        <th class="text-right">العميل</th>
                                        <th class="text-right">الخدمة</th>
                                        <th class="text-right">المبلغ</th>
                                        <th class="text-right">التاريخ</th>
                                        <th class="text-right">الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Sample data for demonstration -->
                                    <tr>
                                        <td data-label="رقم الطلب">#A78952</td>
                                        <td data-label="العميل">محمد أحمد</td>
                                        <td data-label="الخدمة">متابعين انستغرام</td>
                                        <td data-label="المبلغ">$24.99</td>
                                        <td data-label="التاريخ">2023-06-15</td>
                                        <td data-label="الإجراءات" class="flex space-x-1 space-x-reverse">
                                            <button class="action-btn view-btn"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
                                            <button class="action-btn delete-btn"><i class="fas fa-trash-alt"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td data-label="رقم الطلب">#B12345</td>
                                        <td data-label="العميل">سارة محمد</td>
                                        <td data-label="الخدمة">إعجابات فيسبوك</td>
                                        <td data-label="المبلغ">$15.50</td>
                                        <td data-label="التاريخ">2023-06-14</td>
                                        <td data-label="الإجراءات" class="flex space-x-1 space-x-reverse">
                                            <button class="action-btn view-btn"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
                                            <button class="action-btn delete-btn"><i class="fas fa-trash-alt"></i></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td data-label="رقم الطلب">#C56789</td>
                                        <td data-label="العميل">خالد عبدالله</td>
                                        <td data-label="الخدمة">مشاهدات يوتيوب</td>
                                        <td data-label="المبلغ">$45.00</td>
                                        <td data-label="التاريخ">2023-06-13</td>
                                        <td data-label="الإجراءات" class="flex space-x-1 space-x-reverse">
                                            <button class="action-btn view-btn"><i class="fas fa-eye"></i></button>
                                            <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
                                            <button class="action-btn delete-btn"><i class="fas fa-trash-alt"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>                    <!-- Analytics Section with service metrics -->
                    <div class="mb-8">
                        <!-- Best Selling Services -->
                        <div class="bg-white rounded-lg shadow-md p-6">                                <div class="flex justify-between mb-4">
                                <h3 class="text-lg font-bold text-gray-800">أفضل الخدمات مبيعاً</h3>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button id="refresh-top-services" class="text-blue-500 hover:text-blue-700" title="تحديث البيانات">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="space-y-4">
                                <!-- Instagram Followers -->
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                                        <i class="fab fa-instagram text-purple-600"></i>
                                    </div>
                                    <div class="mr-3 flex-grow">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm font-medium">متابعين انستغرام</span>
                                            <span class="text-xs text-gray-500">68%</span>
                                        </div>                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-purple-600 h-2 rounded-full progress-bar-68"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- TikTok Likes -->
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                                        <i class="fab fa-tiktok text-blue-600"></i>
                                    </div>
                                    <div class="mr-3 flex-grow">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm font-medium">متابعين تيك توك</span>
                                            <span class="text-xs text-gray-500">56%</span>
                                        </div>                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-blue-600 h-2 rounded-full progress-bar-56"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- YouTube Views -->
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 w-8 h-8 bg-red-100 rounded-full flex items-center justify-center">
                                        <i class="fab fa-youtube text-red-600"></i>
                                    </div>
                                    <div class="mr-3 flex-grow">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm font-medium">مشاهدات يوتيوب</span>
                                            <span class="text-xs text-gray-500">42%</span>
                                        </div>                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-red-600 h-2 rounded-full progress-bar-42"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Facebook Posts -->
                                <div class="flex items-center">
                                    <div class="flex-shrink-0 w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center">
                                        <i class="fab fa-facebook-f text-indigo-600"></i>
                                    </div>
                                    <div class="mr-3 flex-grow">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm font-medium">إعجابات فيسبوك</span>
                                            <span class="text-xs text-gray-500">35%</span>
                                        </div>                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-indigo-600 h-2 rounded-full progress-bar-35"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Services Tab -->
                <div id="services" class="tab-content fade-in">                    <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4">
                        <h2 class="text-2xl font-bold text-gray-800">إدارة الخدمات</h2>
                        <div class="flex flex-col sm:flex-row gap-2">                            <button id="export-services-btn" class="btn btn-green px-4 py-2 mr-2">
                                <i class="fas fa-file-export mr-1"></i> تصدير
                            </button>                            <button id="test-migration-btn" class="btn btn-yellow px-4 py-2 mr-2">
                                <i class="fas fa-vial mr-1"></i> اختبار الترحيل
                            </button>
                            <button id="test-platforms-btn" class="btn btn-purple px-4 py-2 mr-2">
                                <i class="fas fa-list mr-1"></i> اختبار المنصات
                            </button>
                            <button id="add-service-btn" class="btn btn-blue px-4 py-2">
                                <i class="fas fa-plus mr-1"></i> إضافة خدمة جديدة
                            </button>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                        <div class="flex justify-between items-center mb-4">                            <div class="flex items-center">
                                <i class="fas fa-filter text-gray-500 mr-2"></i>
                                <span class="text-gray-700">تصفية:</span>
                                <select id="service-filter" class="mr-4 bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="all">جميع الخدمات</option>
                                    <option value="followers">متابعين</option>
                                    <option value="likes">إعجابات</option>
                                    <option value="comments">تعليقات</option>
                                    <option value="views">مشاهدات</option>
                                </select>
                            </div>
                            <div class="relative">
                                <input type="text" id="service-search" placeholder="بحث عن خدمة..." class="bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 pr-10 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-search text-gray-500"></i>
                                </div>
                            </div>
                        </div>                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6" id="services-container">
                            <!-- Service cards will be loaded here dynamically -->
                        </div>
                    </div>
                </div>                <!-- Platforms Tab -->
                <div id="platforms" class="tab-content fade-in">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">إدارة المنصات</h2>
                        <button id="add-platform-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition duration-300">
                            <i class="fas fa-plus mr-1"></i> إضافة منصة جديدة
                        </button>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center">
                                <i class="fas fa-filter text-gray-500 mr-2"></i>
                                <span class="text-gray-700">تصفية:</span>
                                <select id="platform-filter" class="mr-4 bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="all">جميع المنصات</option>
                                    <option value="social">مواقع التواصل الاجتماعي</option>
                                    <option value="video">منصات الفيديو</option>
                                    <option value="active">المنصات المفعلة</option>
                                    <option value="inactive">المنصات المعطلة</option>
                                </select>
                            </div>
                            <div class="relative">
                                <input type="text" id="platform-search" placeholder="بحث عن منصة..." class="bg-gray-100 border border-gray-300 text-gray-700 py-2 px-4 pr-10 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-search text-gray-500"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6" id="platforms-container">
                            <!-- Platforms will be loaded here dynamically -->
                        </div>
                    </div>
                </div>

                <!-- Pricing Tab -->
                <div id="pricing" class="tab-content fade-in">                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">الأسعار</h2>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                        <div class="section-header">
                            <h3 class="section-title">إعدادات التسعير المخصص</h3>
                            <p class="section-subtitle">قم بتعيين أسعار مختلفة لكميات مختلفة لكل خدمة</p>
                        </div>
                        
                        <div class="flex flex-col md:flex-row gap-4 mb-6">
                            <div class="md:w-1/3">                                <label class="block text-gray-700 mb-2">اختر الخدمة</label>
                                <select id="pricing-service-select" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option value="">-- اختر الخدمة --</option>
                                </select>
                            </div>
                            
                            <div class="md:w-1/3">
                                <label class="block text-gray-700 mb-2">العملة</label>
                                <select id="pricing-currency-select" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option value="USD">دولار أمريكي ($)</option>
                                    <option value="SAR">ريال سعودي (ر.س)</option>
                                    <option value="AED">درهم إماراتي (د.إ)</option>
                                    <option value="EUR">يورو (€)</option>
                                </select>
                            </div>
                            
                            <div class="md:w-1/3 flex items-end">
                                <button id="add-price-tier-btn" class="w-full bg-blue-100 text-blue-700 hover:bg-blue-200 px-4 py-3 rounded-lg transition duration-300">
                                    <i class="fas fa-plus-circle mr-1"></i> إضافة مستوى سعر جديد
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="dashboard-table w-full mb-4" id="pricing-tiers-table">
                                <thead>
                                    <tr>
                                        <th class="text-right">الكمية (من)</th>
                                        <th class="text-right">الكمية (إلى)</th>
                                        <th class="text-right">السعر (لكل 1000)</th>
                                        <th class="text-right">نسبة الخصم</th>
                                        <th class="text-right">الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody id="pricing-tiers-body">
                                    <tr class="pricing-tier">
                                        <td data-label="الكمية (من)">
                                            <input type="number" class="quantity-min w-full p-2 border border-gray-300 rounded-md" value="1" min="1">
                                        </td>
                                        <td data-label="الكمية (إلى)">
                                            <input type="number" class="quantity-max w-full p-2 border border-gray-300 rounded-md" value="1000" min="1">
                                        </td>
                                        <td data-label="السعر (لكل 1000)">
                                            <input type="number" class="price-per-unit w-full p-2 border border-gray-300 rounded-md" value="5.00" min="0.01" step="0.01">
                                        </td>
                                        <td data-label="نسبة الخصم">
                                            <input type="number" class="discount-percentage w-full p-2 border border-gray-300 rounded-md" value="0" min="0" max="100">
                                        </td>
                                        <td data-label="الإجراءات">
                                            <button class="action-btn delete-tier-btn bg-red-100 text-red-600 hover:bg-red-200">
                                                <i class="fas fa-trash-alt"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="pricing-tier">
                                        <td data-label="الكمية (من)">
                                            <input type="number" class="quantity-min w-full p-2 border border-gray-300 rounded-md" value="1001" min="1">
                                        </td>
                                        <td data-label="الكمية (إلى)">
                                            <input type="number" class="quantity-max w-full p-2 border border-gray-300 rounded-md" value="5000" min="1">
                                        </td>
                                        <td data-label="السعر (لكل 1000)">
                                            <input type="number" class="price-per-unit w-full p-2 border border-gray-300 rounded-md" value="4.50" min="0.01" step="0.01">
                                        </td>
                                        <td data-label="نسبة الخصم">
                                            <input type="number" class="discount-percentage w-full p-2 border border-gray-300 rounded-md" value="10" min="0" max="100">
                                        </td>
                                        <td data-label="الإجراءات">
                                            <button class="action-btn delete-tier-btn bg-red-100 text-red-600 hover:bg-red-200">
                                                <i class="fas fa-trash-alt"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="pricing-tier">
                                        <td data-label="الكمية (من)">
                                            <input type="number" class="quantity-min w-full p-2 border border-gray-300 rounded-md" value="5001" min="1">
                                        </td>
                                        <td data-label="الكمية (إلى)">
                                            <input type="number" class="quantity-max w-full p-2 border border-gray-300 rounded-md" value="10000" min="1">
                                        </td>
                                        <td data-label="السعر (لكل 1000)">
                                            <input type="number" class="price-per-unit w-full p-2 border border-gray-300 rounded-md" value="4.00" min="0.01" step="0.01">
                                        </td>
                                        <td data-label="نسبة الخصم">
                                            <input type="number" class="discount-percentage w-full p-2 border border-gray-300 rounded-md" value="20" min="0" max="100">
                                        </td>
                                        <td data-label="الإجراءات">
                                            <button class="action-btn delete-tier-btn bg-red-100 text-red-600 hover:bg-red-200">
                                                <i class="fas fa-trash-alt"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-bold text-blue-800 mb-2">معاينة التسعير:</h4>
                            <div id="pricing-preview" class="text-blue-700">
                                <p>للطلبات من 1 إلى 1,000: <span class="font-bold">$5.00</span> لكل 1000 (بدون خصم)</p>
                                <p>للطلبات من 1,001 إلى 5,000: <span class="font-bold">$4.50</span> لكل 1000 (خصم 10%)</p>
                                <p>للطلبات من 5,001 إلى 10,000: <span class="font-bold">$4.00</span> لكل 1000 (خصم 20%)</p>
                            </div>
                        </div>
                          <div class="mt-6 flex justify-end space-x-3 rtl:space-x-reverse">
                            <a href="pricing-test.html" class="bg-indigo-100 hover:bg-indigo-200 text-indigo-700 px-6 py-3 rounded-lg transition duration-300">
                                <i class="fas fa-flask mr-1"></i> اختبار التسعير
                            </a>
                            <button id="save-pricing-config" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition duration-300">
                                <i class="fas fa-save mr-1"></i> حفظ التسعير
                            </button>
                        </div>
                    </div>
                    
                    
                </div></td>

                <!-- Orders Tab -->
                <div id="orders" class="tab-content fade-in">                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">إدارة الطلبات</h2>
                        <div>
                            <button id="export-orders-btn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition duration-300">
                                <i class="fas fa-file-export mr-1"></i> تصدير
                            </button>
                        </div>
                    </div><div id="orders-container">
                        <!-- Orders content will be loaded here dynamically -->
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settings" class="tab-content fade-in">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">الإعدادات</h2>
                        <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition duration-300">
                            <i class="fas fa-save mr-1"></i> حفظ التغييرات
                        </button>
                    </div>
                    <div id="settings-container">
                        <!-- Settings content will be loaded here dynamically -->
                    </div>                </div>
            </div>
        </div>
    </div>

    <!-- Add Service Modal -->
    <div id="add-service-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-lg max-w-2xl w-full">
                <div class="flex justify-between items-center border-b border-gray-200 px-6 py-4">
                    <h3 class="text-xl font-bold text-gray-800">إضافة خدمة جديدة</h3>
                    <button id="close-service-modal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div><div class="p-6">
                    <form id="add-service-form" class="space-y-4" data-mode="add">
                        <div>                            <label class="block text-gray-700 mb-2">اسم الخدمة</label>
                            <input id="service-name" type="text" placeholder="أدخل اسم الخدمة" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">وصف الخدمة</label>
                            <textarea id="service-description" placeholder="أدخل وصفاً مختصراً للخدمة" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                        </div>                        <div>
                            <label class="block text-gray-700 mb-2">المنصة</label>
                            <select id="service-platform" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="" disabled selected>اختر المنصة</option>
                                <!-- سيتم ملء الخيارات ديناميكيًا بالمنصات النشطة فقط -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">السعر (لكل 1000)</label>
                            <div class="flex">
                                <div class="flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-gray-900 bg-gray-100 border border-gray-300 rounded-r-lg">
                                    
                                </div>
                                <input id="service-price" type="number" placeholder="5.00" class="rounded-none rounded-l-lg border border-gray-300 p-2.5 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">الحد الأدنى للكمية</label>
                            <input id="min-quantity" type="number" placeholder="100" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">الحد الأقصى للكمية</label>
                            <input id="max-quantity" type="number" placeholder="10000" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="service-active" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" checked>
                            <label for="service-active" class="mr-2 text-gray-700">تفعيل الخدمة</label>
                        </div>
                    </form>
                </div>
                <div class="flex justify-end border-t border-gray-200 px-6 py-4">
                    <button id="cancel-service" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md mr-3 hover:bg-gray-300 transition">
                        إلغاء
                    </button>
                    <button id="save-service" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
                        حفظ الخدمة
                    </button>
                </div>
            </div>
        </div>
    </div>    <!-- Script section -->    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>    <script src="js/date-fix.js"></script>    <script src="js/format-helpers.js"></script>    <script src="js/value-helper.js"></script>    <script src="js/notification-helper.js"></script>
    <script src="js/tab-system.js"></script>
    <script src="js/init-manager.js"></script>
    
    <!-- أنظمة التخزين الموحدة - يجب تحميلها قبل المكونات الأخرى -->
    <!-- نظام إدارة المنصات الموحد -->
    <script src="js/platforms-manager.js"></script>  <!-- نظام إدارة المنصات الجديد (يجب أن يكون أولاً) -->
    
    <!-- نظام إدارة الخدمات الموحد -->
    <script src="js/service-utils.js"></script>   <!-- نظام إدارة الخدمات الموحد -->
    <script src="js/default-services.js"></script>   <!-- نظام تهيئة الخدمات الافتراضية (جديد) -->
    
    <!-- تحميل باقي المكونات بعد أنظمة التخزين الموحدة -->
    <script src="js/dashboard.js"></script>
    <script src="js/social-dashboard.js"></script>
    <script src="js/services-dashboard.js"></script>
    <script src="js/orders-dashboard.js"></script>    <script src="js/social-checkout.js"></script>
    <script src="js/social-payment.js"></script>
    <script src="js/add-test-order.js"></script>    <script src="js/test-service-data.js"></script>
    <script src="js/pricing-customizer.js"></script>
    
    <!-- مكونات إضافية لنظام المنصات -->
    <script src="js/platforms-migrator.js"></script>   <!-- نقل المنصات من المفتاح القديم إلى الجديد -->
    <script src="js/platforms-initializer.js"></script>   <!-- إضافة المنصات الافتراضية -->
    <script src="js/platforms-test.js"></script>   <!-- اختبار نظام المنصات -->
    <script src="js/activate-platforms-tab.js"></script>   <!-- تنشيط تبويب المنصات وعرض المنصات المفصلة -->
    
    <script src="js/settings-manager.js"></script>
    <script src="js/dashboard-connectors.js"></script>
    
    <script>// Define setupTabSystem function
        function setupTabSystem() {
            // Get all tab links and tab contents
            const tabLinks = document.querySelectorAll('.tab-link');
            const tabContents = document.querySelectorAll('.tab-content');
            
            // Add click event listener to each tab link
            tabLinks.forEach(tabLink => {
                tabLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Get the tab to activate
                    const tabId = this.getAttribute('data-tab');
                    
                    // Remove active class from all tab links and contents
                    tabLinks.forEach(link => {
                        link.classList.remove('text-blue-600', 'border-r-4', 'border-blue-600', 'bg-blue-50');
                        link.classList.add('text-gray-700', 'hover:bg-blue-50', 'hover:text-blue-600');
                    });
                    
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Add active class to current tab link and content
                    this.classList.add('text-blue-600', 'border-r-4', 'border-blue-600', 'bg-blue-50');
                    this.classList.remove('text-gray-700', 'hover:bg-blue-50', 'hover:text-blue-600');
                    
                    const activeTab = document.getElementById(tabId);
                    if (activeTab) {
                        activeTab.classList.add('active');
                              // تهيئة الوحدات النمطية المحددة عند تنشيط تبويبها                    if (tabId === 'platforms' && typeof platformsManager !== 'undefined') {
                        // تهيئة نظام إدارة المنصات
                        console.log('تهيئة قسم إدارة المنصات عند النقر على التبويب...');
                        // إعادة ضبط حالة التهيئة للسماح بإعادة تحميل المنصات
                        platformsManager.state.isInitialized = false;
                        platformsManager.init();
                        // ضمان عرض المنصات بالشكل المفصل
                        platformsManager.renderPlatformTable();
                        }else if (tabId === 'services' && typeof servicesDashboard !== 'undefined') {
                            // تهيئة مكون إدارة الخدمات
                            servicesDashboard.init();                        } else if (tabId === 'orders' && typeof ordersDashboard !== 'undefined') {
                            // تهيئة مكون إدارة الطلبات
                            console.log('تهيئة قسم إدارة الطلبات...');
                            // إعادة تعيين المتغير العام للتصدير
                            window.isExportingOrders = false;
                            // تهيئة النظام
                            ordersDashboard.init();
                        }else if (tabId === 'pricing' && typeof pricingCustomizer !== 'undefined') {
                            // تهيئة مكون تخصيص الأسعار
                            pricingCustomizer.init();
                        }
                    }
                });
            });
        }
        
        // Define setupModals function
        function setupModals() {
            // Get all modal close buttons
            const closeButtons = document.querySelectorAll('[id$="-modal"] [id^="close-"]');
            
            // Add click event listener to each close button
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Find the parent modal
                    const modal = this.closest('[id$="-modal"]');
                    if (modal) {
                        modal.classList.add('hidden');
                    }
                });
            });
            
            // Close modal when clicking outside of modal content
            document.addEventListener('click', function(e) {
                document.querySelectorAll('[id$="-modal"]').forEach(modal => {
                    const modalContent = modal.querySelector('.bg-white');
                    if (modal && !modal.classList.contains('hidden') && modalContent && !modalContent.contains(e.target) && e.target !== modalContent) {
                        // Only close if clicking on the overlay, not the modal content
                        if (modal.contains(e.target)) {
                            modal.classList.add('hidden');
                        }
                    }
                });
            });
        }
        
        // Define setupLogin function
        function setupLogin() {
            const loginForm = document.getElementById('login-form');
            const loginScreen = document.getElementById('login-screen');
            const dashboard = document.getElementById('dashboard');
            const logoutButton = document.getElementById('logout-button');
            
            // Add submit event listener to login form
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const username = document.getElementById('username').value;
                    const password = document.getElementById('password').value;
                    
                    // Basic validation (in a real app, this would call an API)
                    if (username === 'admin' && password === 'admin123') {
                        // Hide login screen and show dashboard
                        loginScreen.classList.add('hidden');
                        dashboard.classList.remove('hidden');
                        
                        // Store login state in localStorage
                        localStorage.setItem('dashboard_logged_in', 'true');
                    } else {
                        alert('اسم المستخدم أو كلمة المرور غير صحيحة');
                    }
                });
            }
            
            // Check login state on page load
            if (localStorage.getItem('dashboard_logged_in') === 'true') {
                if (loginScreen && dashboard) {
                    loginScreen.classList.add('hidden');
                    dashboard.classList.remove('hidden');
                }
            }
            
            // Add click event listener to logout button
            if (logoutButton) {
                logoutButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Clear login state and reload page
                    localStorage.removeItem('dashboard_logged_in');
                    window.location.reload();
                });
            }
        }          // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the social dashboard
            if (typeof socialDashboard !== 'undefined') {
                socialDashboard.init();
                
                // Initialize other dashboard modules
                if (typeof servicesDashboard !== 'undefined') {
                    servicesDashboard.init();
                }
                
                if (typeof ordersDashboard !== 'undefined') {
                    ordersDashboard.init();
                }                // تهيئة نظام إدارة المنصات
                if (typeof platformsManager !== 'undefined') {
                    console.log('تهيئة نظام إدارة المنصات عند تحميل الصفحة...');
                    // إعادة ضبط حالة التهيئة للسماح بإعادة تحميل المنصات
                    platformsManager.state.isInitialized = false;
                    platformsManager.init();
                    
                    // تأكد من عرض بطاقات المنصات المفصلة
                    setTimeout(() => {
                        platformsManager.renderPlatformTable();
                    }, 200);
                }
                
                // Initialize settings manager
                if (typeof settingsManager !== 'undefined') {
                    console.log('تهيئة مدير الإعدادات عند تحميل الصفحة...');
                    settingsManager.init();
                }
                
                // Initialize dashboard connectors
                if (typeof dashboardConnectors !== 'undefined') {
                    console.log('تهيئة موصلات لوحة التحكم عند تحميل الصفحة...');
                    dashboardConnectors.init();
                }
            } else {
                // Fallback to basic functionality
                setupTabSystem();
                setupModals();
                setupLogin();
            }
        });        // Responsive sidebar toggle
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.querySelector('.sidebar');
            const sidebarToggle = document.getElementById('sidebar-toggle');
            if (sidebar && sidebarToggle) {
                sidebarToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('open');
                });
                // Close sidebar on outside click (mobile)
                document.addEventListener('click', function(e) {
                    if (window.innerWidth <= 1024 && sidebar.classList.contains('open')) {
                        if (!sidebar.contains(e.target) && !sidebarToggle.contains(e.target)) {
                            sidebar.classList.remove('open');
                        }
                    }
                });
            }
        });    </script>

    <!-- Add Platform Modal -->
    <div id="add-platform-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg shadow-lg max-w-2xl w-full">
                <div class="flex justify-between items-center border-b border-gray-200 px-6 py-4">
                    <h3 class="text-xl font-bold text-gray-800">إضافة منصة جديدة</h3>
                    <button id="close-platform-modal" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="p-6">
                    <form id="add-platform-form" class="space-y-4" data-mode="add">
                        <div>
                            <label class="block text-gray-700 mb-2">اسم المنصة</label>
                            <input type="text" id="platform-name" name="platform-name" placeholder="أدخل اسم المنصة" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">الاسم المختصر (بالإنجليزية)</label>
                            <input type="text" id="platform-slug" placeholder="مثال: instagram, tiktok" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">وصف المنصة</label>
                            <textarea id="platform-description" placeholder="أدخل وصفاً مختصراً للمنصة" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">نوع المنصة</label>
                            <select id="platform-type" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="social">منصة تواصل اجتماعي</option>
                                <option value="video">منصة فيديو</option>
                                <option value="messaging">منصة مراسلة</option>
                                <option value="other">أخرى</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">أيقونة المنصة</label>
                            <div class="mt-1 flex items-center">
                                <span class="inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-100">
                                    <i id="platform-icon-preview" class="fab fa-globe flex items-center justify-center h-full w-full text-2xl text-gray-400"></i>
                                </span>
                                <div class="mr-4 flex-grow">
                                    <input type="text" id="platform-icon" placeholder="رمز فونت أوسم، مثل: instagram" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <p class="text-xs text-gray-500 mt-1">أدخل رمز Font Awesome بدون 'fab' أو 'fas'</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">الموقع الرسمي</label>
                            <input type="url" id="platform-website" placeholder="https://example.com" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-2">لون المنصة (هيكس)</label>
                            <div class="flex">
                                <input type="color" id="platform-color" class="h-10 w-16 p-1 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <input type="text" id="platform-color-hex" placeholder="#1DA1F2" class="flex-grow p-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>
                        </div>
                        <div class="flex items-center">
                            <input type="checkbox" id="platform-active" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" checked>
                            <label for="platform-active" class="mr-2 text-gray-700">تفعيل المنصة</label>
                        </div>
                    </form>
                </div>
                <div class="flex justify-end border-t border-gray-200 px-6 py-4">
                    <button id="cancel-platform" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md mr-3 hover:bg-gray-300 transition">
                        إلغاء
                    </button>
                    <button id="save-platform" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
                        حفظ المنصة
                    </button>
                </div>            </div>
        </div>
    </div>
    
    <!-- Script section -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/date-fix.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/dashboard-analytics.js"></script>
    <script src="js/tab-system.js"></script>
    <script src="js/social-dashboard.js"></script>
</body>
</html>

